{"ast":null,"code":"import { ADD_TO_CART, UPDATE_CART, REMOVE_FROM_CART, CHECKOUT, SET_DELIVERY_CHOICE } from \"../actions/actionTypes\";\nconst initialState = {\n  items: localStorage.getItem(\"items\") ? JSON.parse(localStorage.getItem(\"items\")) : [],\n  delivery: \"standard\"\n};\nconst mapItem = (item, payload) => {\n  if (item.id === payload.product.id) {\n    return {\n      ...item,\n      quantity: item.quantity + 1\n    };\n  }\n  return item;\n};\nconst updateMapItem = (item, payload) => {\n  if (item.id === payload.id) {\n    return {\n      ...item,\n      quantity: payload.quantity\n    };\n  }\n  return item;\n};\nconst filterItem = (item, payload) => item.id !== payload.id;\nconst cart = (state = initialState, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case ADD_TO_CART:\n      const itemFound = !!state.items.find(item => item.id === payload.product.id);\n      if (itemFound) {\n        return {\n          ...state,\n          items: state.items.map(item => mapItem(item, payload))\n        };\n      }\n      return {\n        ...state,\n        items: [{\n          ...payload.product,\n          quantity: 1\n        }, ...state.items]\n      };\n    case REMOVE_FROM_CART:\n      return {\n        ...state,\n        items: state.items.filter(item => filterItem(item, payload))\n      };\n    case UPDATE_CART:\n      return {\n        ...state,\n        items: state.items.map(item => updateMapItem(item, payload))\n      };\n    case SET_DELIVERY_CHOICE:\n      return {\n        ...state,\n        delivery: payload.choice\n      };\n    case CHECKOUT:\n      return {\n        delivery: \"standard\",\n        items: []\n      };\n    default:\n      return state;\n  }\n};\nexport default cart;","map":{"version":3,"names":["ADD_TO_CART","UPDATE_CART","REMOVE_FROM_CART","CHECKOUT","SET_DELIVERY_CHOICE","initialState","items","localStorage","getItem","JSON","parse","delivery","mapItem","item","payload","id","product","quantity","updateMapItem","filterItem","cart","state","type","itemFound","find","map","filter","choice"],"sources":["F:/PROFET ECOMMERCE/final/final/marketplace/client/src/lib/state/reducers/cart.js"],"sourcesContent":["import {\n  ADD_TO_CART,\n  UPDATE_CART,\n  REMOVE_FROM_CART,\n  CHECKOUT,\n  SET_DELIVERY_CHOICE,\n} from \"../actions/actionTypes\";\n\nconst initialState = {\n  items: localStorage.getItem(\"items\")\n    ? JSON.parse(localStorage.getItem(\"items\"))\n    : [],\n  delivery: \"standard\",\n};\n\nconst mapItem = (item, payload) => {\n  if (item.id === payload.product.id) {\n    return { ...item, quantity: item.quantity + 1 };\n  }\n  return item;\n};\nconst updateMapItem = (item, payload) => {\n  if (item.id === payload.id) {\n    return { ...item, quantity: payload.quantity };\n  }\n  return item;\n};\nconst filterItem = (item, payload) => item.id !== payload.id;\n\nconst cart = (state = initialState, { type, payload }) => {\n  switch (type) {\n    case ADD_TO_CART:\n      const itemFound = !!state.items.find(\n        (item) => item.id === payload.product.id\n      );\n      if (itemFound) {\n        return {\n          ...state,\n          items: state.items.map((item) => mapItem(item, payload)),\n        };\n      }\n      return {\n        ...state,\n        items: [{ ...payload.product, quantity: 1 }, ...state.items],\n      };\n    case REMOVE_FROM_CART:\n      return {\n        ...state,\n        items: state.items.filter((item) => filterItem(item, payload)),\n      };\n    case UPDATE_CART:\n      return {\n        ...state,\n        items: state.items.map((item) => updateMapItem(item, payload)),\n      };\n    case SET_DELIVERY_CHOICE:\n      return { ...state, delivery: payload.choice };\n    case CHECKOUT:\n      return { delivery: \"standard\", items: [] };\n    default:\n      return state;\n  }\n};\nexport default cart;\n"],"mappings":"AAAA,SACEA,WAAW,EACXC,WAAW,EACXC,gBAAgB,EAChBC,QAAQ,EACRC,mBAAmB,QACd,wBAAwB;AAE/B,MAAMC,YAAY,GAAG;EACnBC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,GAChCC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,GACzC,EAAE;EACNG,QAAQ,EAAE;AACZ,CAAC;AAED,MAAMC,OAAO,GAAGA,CAACC,IAAI,EAAEC,OAAO,KAAK;EACjC,IAAID,IAAI,CAACE,EAAE,KAAKD,OAAO,CAACE,OAAO,CAACD,EAAE,EAAE;IAClC,OAAO;MAAE,GAAGF,IAAI;MAAEI,QAAQ,EAAEJ,IAAI,CAACI,QAAQ,GAAG;IAAE,CAAC;EACjD;EACA,OAAOJ,IAAI;AACb,CAAC;AACD,MAAMK,aAAa,GAAGA,CAACL,IAAI,EAAEC,OAAO,KAAK;EACvC,IAAID,IAAI,CAACE,EAAE,KAAKD,OAAO,CAACC,EAAE,EAAE;IAC1B,OAAO;MAAE,GAAGF,IAAI;MAAEI,QAAQ,EAAEH,OAAO,CAACG;IAAS,CAAC;EAChD;EACA,OAAOJ,IAAI;AACb,CAAC;AACD,MAAMM,UAAU,GAAGA,CAACN,IAAI,EAAEC,OAAO,KAAKD,IAAI,CAACE,EAAE,KAAKD,OAAO,CAACC,EAAE;AAE5D,MAAMK,IAAI,GAAGA,CAACC,KAAK,GAAGhB,YAAY,EAAE;EAAEiB,IAAI;EAAER;AAAQ,CAAC,KAAK;EACxD,QAAQQ,IAAI;IACV,KAAKtB,WAAW;MACd,MAAMuB,SAAS,GAAG,CAAC,CAACF,KAAK,CAACf,KAAK,CAACkB,IAAI,CACjCX,IAAI,IAAKA,IAAI,CAACE,EAAE,KAAKD,OAAO,CAACE,OAAO,CAACD,EACxC,CAAC;MACD,IAAIQ,SAAS,EAAE;QACb,OAAO;UACL,GAAGF,KAAK;UACRf,KAAK,EAAEe,KAAK,CAACf,KAAK,CAACmB,GAAG,CAAEZ,IAAI,IAAKD,OAAO,CAACC,IAAI,EAAEC,OAAO,CAAC;QACzD,CAAC;MACH;MACA,OAAO;QACL,GAAGO,KAAK;QACRf,KAAK,EAAE,CAAC;UAAE,GAAGQ,OAAO,CAACE,OAAO;UAAEC,QAAQ,EAAE;QAAE,CAAC,EAAE,GAAGI,KAAK,CAACf,KAAK;MAC7D,CAAC;IACH,KAAKJ,gBAAgB;MACnB,OAAO;QACL,GAAGmB,KAAK;QACRf,KAAK,EAAEe,KAAK,CAACf,KAAK,CAACoB,MAAM,CAAEb,IAAI,IAAKM,UAAU,CAACN,IAAI,EAAEC,OAAO,CAAC;MAC/D,CAAC;IACH,KAAKb,WAAW;MACd,OAAO;QACL,GAAGoB,KAAK;QACRf,KAAK,EAAEe,KAAK,CAACf,KAAK,CAACmB,GAAG,CAAEZ,IAAI,IAAKK,aAAa,CAACL,IAAI,EAAEC,OAAO,CAAC;MAC/D,CAAC;IACH,KAAKV,mBAAmB;MACtB,OAAO;QAAE,GAAGiB,KAAK;QAAEV,QAAQ,EAAEG,OAAO,CAACa;MAAO,CAAC;IAC/C,KAAKxB,QAAQ;MACX,OAAO;QAAEQ,QAAQ,EAAE,UAAU;QAAEL,KAAK,EAAE;MAAG,CAAC;IAC5C;MACE,OAAOe,KAAK;EAChB;AACF,CAAC;AACD,eAAeD,IAAI"},"metadata":{},"sourceType":"module"}