{"ast":null,"code":"import { ADD_TO_CART, REMOVE_FROM_CART, SET_PAGE_INDEX, GET_PRODUCTS_PENDING, GET_PRODUCTS_SUCCESS, GET_PRODUCTS_FAILURE, UPDATE_CART, CHECKOUT, SET_DELIVERY_CHOICE } from \"./actionTypes\";\nimport { getProducts, addOrder } from \"../../service\";\nconst returnProductsArrays = items => {\n  let TwoDimensionalArray = [];\n  let remainder = items.length % 9;\n  let i = 0;\n  while (i < items.length - remainder) {\n    let array = items.slice(i, i + 9);\n    TwoDimensionalArray.push(array);\n    i += 9;\n  }\n  const array = items.slice(i);\n  TwoDimensionalArray.push(array);\n  return TwoDimensionalArray;\n};\nexport function getProductsPending() {\n  return {\n    type: GET_PRODUCTS_PENDING\n  };\n}\nexport function getProductsSuccess(data) {\n  return {\n    type: GET_PRODUCTS_SUCCESS,\n    payload: {\n      data\n    }\n  };\n}\nexport function getProductsFailure(error) {\n  return {\n    type: GET_PRODUCTS_FAILURE,\n    payload: {\n      error\n    }\n  };\n}\nexport function addToCart(product) {\n  return {\n    type: ADD_TO_CART,\n    payload: {\n      product\n    }\n  };\n}\nexport function updateCart(id, quantity) {\n  return {\n    type: UPDATE_CART,\n    payload: {\n      id,\n      quantity\n    }\n  };\n}\nexport function setDelivery(choice) {\n  return {\n    type: SET_DELIVERY_CHOICE,\n    payload: {\n      choice\n    }\n  };\n}\nexport function removeFromCart(id) {\n  return {\n    type: REMOVE_FROM_CART,\n    payload: {\n      id\n    }\n  };\n}\nexport function checkout() {\n  return {\n    type: CHECKOUT\n  };\n}\nexport function setPage(index) {\n  return {\n    type: SET_PAGE_INDEX,\n    payload: {\n      index\n    }\n  };\n}\n\n// Networking - MongoDB\nexport const fetchProducts = () => {\n  return async function (dispatch) {\n    dispatch(getProductsPending);\n    getProducts().then(response => returnProductsArrays(response.data)).then(productsData => dispatch(getProductsSuccess(productsData))).catch(err => dispatch(getProductsFailure(err)));\n  };\n};\nexport const saveOrder = order => {\n  return async function (dispatch) {\n    addOrder(order).then(() => dispatch(checkout())).catch(err => console.log(err));\n  };\n};","map":{"version":3,"names":["ADD_TO_CART","REMOVE_FROM_CART","SET_PAGE_INDEX","GET_PRODUCTS_PENDING","GET_PRODUCTS_SUCCESS","GET_PRODUCTS_FAILURE","UPDATE_CART","CHECKOUT","SET_DELIVERY_CHOICE","getProducts","addOrder","returnProductsArrays","items","TwoDimensionalArray","remainder","length","i","array","slice","push","getProductsPending","type","getProductsSuccess","data","payload","getProductsFailure","error","addToCart","product","updateCart","id","quantity","setDelivery","choice","removeFromCart","checkout","setPage","index","fetchProducts","dispatch","then","response","productsData","catch","err","saveOrder","order","console","log"],"sources":["F:/PROFET ECOMMERCE/final/final/marketplace/client/src/lib/state/actions/index.js"],"sourcesContent":["import {\n  ADD_TO_CART,\n  REMOVE_FROM_CART,\n  SET_PAGE_INDEX,\n  GET_PRODUCTS_PENDING,\n  GET_PRODUCTS_SUCCESS,\n  GET_PRODUCTS_FAILURE,\n  UPDATE_CART,\n  CHECKOUT,\n  SET_DELIVERY_CHOICE,\n} from \"./actionTypes\";\nimport { getProducts, addOrder } from \"../../service\";\n\nconst returnProductsArrays = (items) => {\n  let TwoDimensionalArray = [];\n  let remainder = items.length % 9;\n  let i = 0;\n  while (i < items.length - remainder) {\n    let array = items.slice(i, i + 9);\n    TwoDimensionalArray.push(array);\n    i += 9;\n  }\n  const array = items.slice(i);\n  TwoDimensionalArray.push(array);\n  return TwoDimensionalArray;\n};\n\nexport function getProductsPending() {\n  return {\n    type: GET_PRODUCTS_PENDING,\n  };\n}\nexport function getProductsSuccess(data) {\n  return {\n    type: GET_PRODUCTS_SUCCESS,\n    payload: { data },\n  };\n}\nexport function getProductsFailure(error) {\n  return {\n    type: GET_PRODUCTS_FAILURE,\n    payload: { error },\n  };\n}\nexport function addToCart(product) {\n  return {\n    type: ADD_TO_CART,\n    payload: { product },\n  };\n}\nexport function updateCart(id, quantity) {\n  return {\n    type: UPDATE_CART,\n    payload: { id, quantity },\n  };\n}\nexport function setDelivery(choice) {\n  return {\n    type: SET_DELIVERY_CHOICE,\n    payload: { choice },\n  };\n}\nexport function removeFromCart(id) {\n  return {\n    type: REMOVE_FROM_CART,\n    payload: { id },\n  };\n}\nexport function checkout() {\n  return {\n    type: CHECKOUT,\n  };\n}\nexport function setPage(index) {\n  return {\n    type: SET_PAGE_INDEX,\n    payload: { index },\n  };\n}\n\n// Networking - MongoDB\nexport const fetchProducts = () => {\n  return async function (dispatch) {\n    dispatch(getProductsPending);\n    getProducts()\n      .then((response) => returnProductsArrays(response.data))\n      .then((productsData) => dispatch(getProductsSuccess(productsData)))\n      .catch((err) => dispatch(getProductsFailure(err)));\n  };\n};\n\nexport const saveOrder = (order) => {\n  return async function (dispatch) {\n    addOrder(order)\n      .then(() => dispatch(checkout()))\n      .catch((err) => console.log(err));\n  };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}